#!/usr/local/bin/ruby

require 'apes/id'
require 'apes/parse'

def program_usage
  puts "Usage: apes-list"
end

if ENV["APES_ROOT"] == nil or ENV["APES_ROOT"].empty? then
  abort "[list] The APES_ROOT variable is not defined."
end

if ARGV.count != 0 then
  program_usage
else
  components = []

  APEParseLibrary(Dir.pwd, components)
  APEParseLibrary(ENV["APES_ROOT"], components)

  components.each do |e|
    puts e.id.to_s
  end
end

